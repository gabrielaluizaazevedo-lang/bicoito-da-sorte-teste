<!DOCTYPE html>
<div id="fortuneModal" class="fortune-modal" role="dialog" aria-modal="true" aria-hidden="true">
<div class="fortune-content" role="document" aria-live="polite">
<div id="cookie" class="cookie" aria-hidden="false">ğŸª</div>
<div id="fortuneText" tabindex="0"></div>
<button id="fortuneBtn" class="fortuneBtn">Ver a sorte do dia</button>
</div>
</div>


<script>
(function(){
const FORTUNES = [
"A sorte sorrirÃ¡ para vocÃª hoje!",
"Grandes mudanÃ§as estÃ£o a caminho.",
"Confie em si mesmo e tudo serÃ¡ possÃ­vel.",
"Uma oportunidade inesperada surgirÃ¡.",
"VocÃª estÃ¡ prestes a viver algo incrÃ­vel.",
"Seu esforÃ§o serÃ¡ recompensado em breve.",
"Uma surpresa agradÃ¡vel espera por vocÃª.",
"A sua persistÃªncia vai valer a pena."
];


const openCookieBtn = document.getElementById('openCookieBtn');
const modal = document.getElementById('fortuneModal');
const cookie = document.getElementById('cookie');
const fortuneText = document.getElementById('fortuneText');
const fortuneBtn = document.getElementById('fortuneBtn');


function openModal(){
const today = new Date().toISOString().split('T')[0];
const lastOpened = localStorage.getItem('sorteData');


if(lastOpened === today){
alert("VocÃª jÃ¡ abriu sua sorte hoje! ğŸ€");
return;
}


modal.style.display = 'flex';
modal.setAttribute('aria-hidden','false');
cookie.style.display = 'block';
cookie.textContent = 'ğŸª';
fortuneText.style.display = 'none';
fortuneBtn.style.display = 'none';
}


function showFortune(){
const today = new Date().toISOString().split('T')[0];
const lastOpened = localStorage.getItem('sorteData');


if(lastOpened === today) return;


const idx = Math.floor(Math.random() * FORTUNES.length);
fortuneText.textContent = FORTUNES[idx];
cookie.textContent = 'ğŸ’¥ğŸª';


localStorage.setItem('sorteData', today);


setTimeout(() => {
cookie.style.display = 'none';
fortuneText.style.display = 'block';
fortuneBtn.style.display = 'inline-block';
}, 500);
}


openCookieBtn.addEventListener('click', openModal);
cookie.addEventListener('click', showFortune);
fortuneBtn.addEventListener('click', () => { modal.style.display='none'; });


document.addEventListener('keydown', (ev) => { if(ev.key==='Escape') modal.style.display='none'; });
modal.addEventListener('click', (ev) => { if(ev.target===modal) modal.style.display='none'; });
})();
</script>
</body>
</html>
